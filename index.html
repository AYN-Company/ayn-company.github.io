<h1 id="use-case-crud-instances">Use Case: CRUD instances</h1>
<p><strong>Actors</strong>: Super User</p>
<p><strong>Scope</strong>: Instances service</p>
<p><strong>Purpose</strong>: CRUD operations of instance entity.</p>
<p><strong>Type</strong>: Primary</p>
<p>
  <strong>Overview</strong>: A super user that can create, update, inactivate,
  activate and list instances.
</p>
<p>
  <strong>Precondition</strong>: The user must be authenticated and have super
  user role.
</p>
<p><strong>Postcondition</strong>: None</p>
<h2 id="events-">Events:</h2>
<h3 id="1-create-an-instance">1. Create an instance</h3>
<table>
  <thead>
    <tr>
      <th style="text-align: left">Actor Action</th>
      <th style="text-align: left">System Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">
        1. User send a payload to create a new instance
      </td>
      <td style="text-align: left"></td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">2. Validate payload</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">3. Create the instance</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">4. End operation with success message</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
    </tr>
  </tbody>
</table>
<h3 id="alternative-courses-">Alternative Courses:</h3>
<ul>
  <li>
    <p>
      2a. Invalid payload <br /><br />
      2a1. End operation with error message<br /><br />
    </p>
  </li>
  <li>
    <p>
      3a. Database error <br /><br />
      3a1. End operation with error message<br /><br />
    </p>
  </li>
</ul>
<h3 id="2-update-an-instance">2. Update an instance</h3>
<table>
  <thead>
    <tr>
      <th style="text-align: left">Actor Action</th>
      <th style="text-align: left">System Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">
        1. User send a payload to update an instance specifying the instanceId
      </td>
      <td style="text-align: left"></td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">2. Verify if instance exists</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">3. Validate payload</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">4. Update the instance</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">5. End operation with success message</td>
    </tr>
  </tbody>
</table>
<h3 id="alternative-courses-">Alternative Courses:</h3>
<ul>
  <li>
    <p>
      2a. Instance not found / Database error <br /><br />
      2a1. End operation with error message<br /><br />
    </p>
  </li>
  <li>
    <p>
      3a. Invalid payload <br /><br />
      2a1. End operation with error message<br /><br />
    </p>
  </li>
  <li>
    <p>
      4a. Database error <br /><br />
      3a1. End operation with error message<br /><br />
    </p>
  </li>
</ul>
<h3 id="3-inactivate-an-instance">3. Inactivate an instance</h3>
<table>
  <thead>
    <tr>
      <th style="text-align: left">Actor Action</th>
      <th style="text-align: left">System Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">
        1. User inactivate an instance specifying the instanceId
      </td>
      <td style="text-align: left"></td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">2. Verify if instance exists</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">3. Inactivate the instance</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">
        4. Emit &quot;InactivatedInstance&quot; event
      </td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">5. End operation with success message</td>
    </tr>
  </tbody>
</table>
<h3 id="alternative-courses-">Alternative Courses:</h3>
<ul>
  <li>
    <p>
      2a. Instance not found / Database error <br /><br />
      2a1. End operation with error message<br /><br />
    </p>
  </li>
  <li>
    <p>
      3a. Instance already inactivated <br /><br />
      3a1. End operation without message<br /><br />
    </p>
  </li>
</ul>
<h3 id="4-activate-an-instance">4. Activate an instance</h3>
<table>
  <thead>
    <tr>
      <th style="text-align: left">Actor Action</th>
      <th style="text-align: left">System Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">
        1. User activate an instance specifying the instanceId
      </td>
      <td style="text-align: left"></td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">2. Verify if instance exists</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">3. Activate the instance</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">
        4. Emit &quot;ActivatedInstance&quot; event
      </td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">5. End operation with success message</td>
    </tr>
  </tbody>
</table>
<h3 id="alternative-courses-">Alternative Courses:</h3>
<ul>
  <li>
    <p>
      2a. Instance not found / Database error <br /><br />
      2a1. End operation with error message<br /><br />
    </p>
  </li>
  <li>
    <p>
      3a. Instance already activated <br /><br />
      3a1. End operation without message<br /><br />
    </p>
  </li>
</ul>
<h3 id="5-list-instances">5. List instances</h3>
<table>
  <thead>
    <tr>
      <th style="text-align: left">Actor Action</th>
      <th style="text-align: left">System Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1. User list instances</td>
      <td style="text-align: left"></td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">2. Get instances</td>
    </tr>
    <tr>
      <td style="text-align: left"></td>
      <td style="text-align: left">3. Return list of instances</td>
    </tr>
  </tbody>
</table>
<h3 id="alternative-courses-">Alternative Courses:</h3>
<ul>
  <li>
    2a. Database error <br /><br />
    2a1. End operation with error message<br /><br />
  </li>
</ul>
